!function(){angular.module("TaskList",["firebase","task-controllers","task-services","task-filters"])}(),function(){"use strict";function e(e,t,a){e.newTask={name:"",description:"",creationDate:"",expirationDate:"",completed:!1,expired:!1},e.tasks=a.getTasks(),e.currentState="Open",e.stateClass="",e.stateHeader="Close",e.setState=function(t){e.currentState=t,"Closed"===t?(e.stateHeader="Closed",e.stateClass="bg-success"):"Expired"===t?(e.stateHeader="Expired",e.stateClass="bg-danger"):(e.stateHeader="Close",e.stateClass="")},e.isSet=function(t){return t===e.currentState?!0:void 0},e.filterTask=function(){a.filterTasks()},e.addTask=function(){a.addTask(angular.copy(e.newTask)),e.newTask={name:"",description:"",creationDate:"",expirationDate:"",completed:!1,expired:!1}},e.updateTask=function(e){a.updateTask(e)},e.removeTask=function(e){a.removeTask(e)},t(function(){e.filterTask()},5e3)}angular.module("task-controllers",[]).controller("ListController",e),e.$inject=["$scope","$interval","TasksService"]}(),function(){"use strict";function e(){return function(e,t){var a=[];return"Open"===t?angular.forEach(e,function(e){angular.equals(e.completed,!1)&&angular.equals(e.expired,!1)&&a.push(e)}):"Closed"===t?angular.forEach(e,function(e){angular.equals(e.completed,!0)&&a.push(e)}):"Expired"===t&&angular.forEach(e,function(e){angular.equals(e.expired,!0)&&angular.equals(e.completed,!1)&&a.push(e)}),a}}function t(){return function(e){var t=moment(e),a=moment();return t.diff(a,"days")}}angular.module("task-filters",[]).filter("taskFilter",e).filter("countdown",t)}(),function(){"use-strict";function e(e){var t=new Firebase("https://intense-heat-831.firebaseio.com/"),a=e(t),n=a.$asArray();this.filterTasks=function(){for(var e=moment().format("MM/DD/YYYY"),t=n.length,a=0;t>a;a++)n[a].expirationDate<e&&!n[a].expired&&(console.log("Task "+n[a].name+" has been removed"),n[a].expired=!0,this.updateTask(n[a]))},this.getTasks=function(){return n},this.addTask=function(e){e.creationDate=moment().format("MM/DD/YYYY"),e.expirationDate=moment().add(7,"days").format("MM/DD/YYYY"),n.$add(e)},this.updateTask=function(e){n.$save(e)},this.removeTask=function(e){n.$remove(e)}}angular.module("task-services",[]).service("TasksService",e),e.$inject=["$firebase"]}();